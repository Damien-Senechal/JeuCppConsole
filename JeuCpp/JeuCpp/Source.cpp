#include<time.h>
#include"Interface.h"
#include <conio.h>

int MyGetch()
{
#ifdef _WIN32
	return _getch();
#endif
}

int main() 
{
	Grid g = Grid(20, 20);
	vector<vector<Point>> map;
	vector<vector<int>> values =
	{ {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
	  {1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1},
	  {1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1},
	  {1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1},
	  {1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1},
	  {1,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1},
	  {1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1},
	  {1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1},
	  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1}, 
	  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
	  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
	  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
	  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
	  {1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1}, 
	  {1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1},
	  {1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1},
	  {1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1},
	  {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
	  {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1} };

	for (int i = 0; i < 20; i++) {
		map.push_back(vector<Point>(20));
		for (int j = 0; j < 20; j++) {
			map[i][j] = Point(i, j,values[i][j]);
		}
	}

	g.setGrid(map);

	Interface i = Interface(1, g);
	i.display();


	int touche = 0;
	while (touche != 27) // ECHAP
	{
		touche = MyGetch();
		switch (touche)
		{
		case 'q':
			cout << "gauche" << endl;
			break;
		case 'd':
			cout << "droite" << endl;
			break;
		case 'z':
			cout << "haut" << endl;
			break;
		case 's':
			cout << "bas" << endl;
		default:
			break;
		}
	}
	return 0;
}